!function(){"use strict";var e,t,n,o,r,i={},u=[],l=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function _(e,t){for(var n in t)e[n]=t[n];return e}function s(e){var t=e.parentNode;t&&t.removeChild(e)}function c(e,t,n){var o,r,i,u=arguments,l={};for(i in t)"key"==i?o=t[i]:"ref"==i?r=t[i]:l[i]=t[i];if(arguments.length>3)for(n=[n],i=3;i<arguments.length;i++)n.push(u[i]);if(null!=n&&(l.children=n),"function"==typeof e&&null!=e.defaultProps)for(i in e.defaultProps)void 0===l[i]&&(l[i]=e.defaultProps[i]);return a(e,l,o,r,null)}function a(t,n,o,r,i){var u={type:t,props:n,key:o,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:i};return null==i&&(u.__v=u),null!=e.vnode&&e.vnode(u),u}function f(e){return e.children}function p(e,t){this.props=e,this.context=t}function h(e,t){if(null==t)return e.__?h(e.__,e.__.__k.indexOf(e)+1):null;for(var n;t<e.__k.length;t++)if(null!=(n=e.__k[t])&&null!=n.__e)return n.__e;return"function"==typeof e.type?h(e):null}function d(e){var t,n;if(null!=(e=e.__)&&null!=e.__c){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if(null!=(n=e.__k[t])&&null!=n.__e){e.__e=e.__c.base=n.__e;break}return d(e)}}function m(r){(!r.__d&&(r.__d=!0)&&t.push(r)&&!v.__r++||o!==e.debounceRendering)&&((o=e.debounceRendering)||n)(v)}function v(){for(var e;v.__r=t.length;)e=t.sort((function(e,t){return e.__v.__b-t.__v.__b})),t=[],e.some((function(e){var t,n,o,r,i,u,l;e.__d&&(u=(i=(t=e).__v).__e,(l=t.__P)&&(n=[],(o=_({},i)).__v=o,r=U(l,i,o,t.__n,void 0!==l.ownerSVGElement,null,n,null==u?h(i):u),w(n,i),r!=u&&d(i)))}))}function y(e,t,n,o,r,l,_,c,p,d){var m,v,y,g,b,I,x,C=o&&o.__k||u,w=C.length;for(p==i&&(p=null!=_?_[0]:w?h(o,0):null),n.__k=[],m=0;m<t.length;m++)if(null!=(g=n.__k[m]=null==(g=t[m])||"boolean"==typeof g?null:"string"==typeof g||"number"==typeof g?a(null,g,null,null,g):Array.isArray(g)?a(f,{children:g},null,null,null):null!=g.__e||null!=g.__c?a(g.type,g.props,g.key,null,g.__v):g)){if(g.__=n,g.__b=n.__b+1,null===(y=C[m])||y&&g.key==y.key&&g.type===y.type)C[m]=void 0;else for(v=0;v<w;v++){if((y=C[v])&&g.key==y.key&&g.type===y.type){C[v]=void 0;break}y=null}b=U(e,g,y=y||i,r,l,_,c,p,d),(v=g.ref)&&y.ref!=v&&(x||(x=[]),y.ref&&x.push(y.ref,null,g),x.push(v,g.__c||b,g)),null!=b?(null==I&&(I=b),p=k(e,g,y,C,_,b,p),d||"option"!=n.type?"function"==typeof n.type&&(n.__d=p):e.value=""):p&&y.__e==p&&p.parentNode!=e&&(p=h(y))}if(n.__e=I,null!=_&&"function"!=typeof n.type)for(m=_.length;m--;)null!=_[m]&&s(_[m]);for(m=w;m--;)null!=C[m]&&A(C[m],C[m]);if(x)for(m=0;m<x.length;m++)S(x[m],x[++m],x[++m])}function g(e,t){return t=t||[],null==e||"boolean"==typeof e||(Array.isArray(e)?e.some((function(e){g(e,t)})):t.push(e)),t}function k(e,t,n,o,r,i,u){var l,_,s;if(void 0!==t.__d)l=t.__d,t.__d=void 0;else if(r==n||i!=u||null==i.parentNode)e:if(null==u||u.parentNode!==e)e.appendChild(i),l=null;else{for(_=u,s=0;(_=_.nextSibling)&&s<o.length;s+=2)if(_==i)break e;e.insertBefore(i,u),l=u}return void 0!==l?l:i.nextSibling}function b(e,t,n){"-"===t[0]?e.setProperty(t,n):e[t]=null==n?"":"number"!=typeof n||l.test(t)?n:n+"px"}function I(e,t,n,o,r){var i,u;if(r&&"className"==t&&(t="class"),"style"===t)if("string"==typeof n)e.style=n;else{if("string"==typeof o&&(e.style=o=""),o)for(t in o)n&&t in n||b(e.style,t,"");if(n)for(t in n)o&&n[t]===o[t]||b(e.style,t,n[t])}else"o"===t[0]&&"n"===t[1]?(i=t!==(t=t.replace(/Capture$/,"")),(u=t.toLowerCase())in e&&(t=u),t=t.slice(2),e.l||(e.l={}),e.l[t]=n,n?o||e.addEventListener(t,x,i):e.removeEventListener(t,x,i)):"list"!==t&&"tagName"!==t&&"form"!==t&&"type"!==t&&"size"!==t&&"download"!==t&&"href"!==t&&!r&&t in e?e[t]=null==n?"":n:"function"!=typeof n&&"dangerouslySetInnerHTML"!==t&&(t!==(t=t.replace(/xlink:?/,""))?null==n||!1===n?e.removeAttributeNS("http://www.w3.org/1999/xlink",t.toLowerCase()):e.setAttributeNS("http://www.w3.org/1999/xlink",t.toLowerCase(),n):null==n||!1===n&&!/^ar/.test(t)?e.removeAttribute(t):e.setAttribute(t,n))}function x(t){this.l[t.type](e.event?e.event(t):t)}function C(e,t,n){var o,r;for(o=0;o<e.__k.length;o++)(r=e.__k[o])&&(r.__=e,r.__e&&("function"==typeof r.type&&r.__k.length>1&&C(r,t,n),t=k(n,r,r,e.__k,null,r.__e,t),"function"==typeof e.type&&(e.__d=t)))}function U(t,n,o,r,i,u,l,s,c){var a,h,d,m,v,g,k,b,I,x,U,w=n.type;if(void 0!==n.constructor)return null;(a=e.__b)&&a(n);try{e:if("function"==typeof w){if(b=n.props,I=(a=w.contextType)&&r[a.__c],x=a?I?I.props.value:a.__:r,o.__c?k=(h=n.__c=o.__c).__=h.__E:("prototype"in w&&w.prototype.render?n.__c=h=new w(b,x):(n.__c=h=new p(b,x),h.constructor=w,h.render=E),I&&I.sub(h),h.props=b,h.state||(h.state={}),h.context=x,h.__n=r,d=h.__d=!0,h.__h=[]),null==h.__s&&(h.__s=h.state),null!=w.getDerivedStateFromProps&&(h.__s==h.state&&(h.__s=_({},h.__s)),_(h.__s,w.getDerivedStateFromProps(b,h.__s))),m=h.props,v=h.state,d)null==w.getDerivedStateFromProps&&null!=h.componentWillMount&&h.componentWillMount(),null!=h.componentDidMount&&h.__h.push(h.componentDidMount);else{if(null==w.getDerivedStateFromProps&&b!==m&&null!=h.componentWillReceiveProps&&h.componentWillReceiveProps(b,x),!h.__e&&null!=h.shouldComponentUpdate&&!1===h.shouldComponentUpdate(b,h.__s,x)||n.__v===o.__v){h.props=b,h.state=h.__s,n.__v!==o.__v&&(h.__d=!1),h.__v=n,n.__e=o.__e,n.__k=o.__k,h.__h.length&&l.push(h),C(n,s,t);break e}null!=h.componentWillUpdate&&h.componentWillUpdate(b,h.__s,x),null!=h.componentDidUpdate&&h.__h.push((function(){h.componentDidUpdate(m,v,g)}))}h.context=x,h.props=b,h.state=h.__s,(a=e.__r)&&a(n),h.__d=!1,h.__v=n,h.__P=t,a=h.render(h.props,h.state,h.context),h.state=h.__s,null!=h.getChildContext&&(r=_(_({},r),h.getChildContext())),d||null==h.getSnapshotBeforeUpdate||(g=h.getSnapshotBeforeUpdate(m,v)),U=null!=a&&a.type==f&&null==a.key?a.props.children:a,y(t,Array.isArray(U)?U:[U],n,o,r,i,u,l,s,c),h.base=n.__e,h.__h.length&&l.push(h),k&&(h.__E=h.__=null),h.__e=!1}else null==u&&n.__v===o.__v?(n.__k=o.__k,n.__e=o.__e):n.__e=R(o.__e,n,o,r,i,u,l,c);(a=e.diffed)&&a(n)}catch(t){n.__v=null,e.__e(t,n,o)}return n.__e}function w(t,n){e.__c&&e.__c(n,t),t.some((function(n){try{t=n.__h,n.__h=[],t.some((function(e){e.call(n)}))}catch(t){e.__e(t,n.__v)}}))}function R(e,t,n,o,r,l,_,s){var c,a,f,p,h,d=n.props,m=t.props;if(r="svg"===t.type||r,null!=l)for(c=0;c<l.length;c++)if(null!=(a=l[c])&&((null===t.type?3===a.nodeType:a.localName===t.type)||e==a)){e=a,l[c]=null;break}if(null==e){if(null===t.type)return document.createTextNode(m);e=r?document.createElementNS("http://www.w3.org/2000/svg",t.type):document.createElement(t.type,m.is&&{is:m.is}),l=null,s=!1}if(null===t.type)d!==m&&e.data!==m&&(e.data=m);else{if(null!=l&&(l=u.slice.call(e.childNodes)),f=(d=n.props||i).dangerouslySetInnerHTML,p=m.dangerouslySetInnerHTML,!s){if(null!=l)for(d={},h=0;h<e.attributes.length;h++)d[e.attributes[h].name]=e.attributes[h].value;(p||f)&&(p&&f&&p.__html==f.__html||(e.innerHTML=p&&p.__html||""))}(function(e,t,n,o,r){var i;for(i in n)"children"===i||"key"===i||i in t||I(e,i,null,n[i],o);for(i in t)r&&"function"!=typeof t[i]||"children"===i||"key"===i||"value"===i||"checked"===i||n[i]===t[i]||I(e,i,t[i],n[i],o)})(e,m,d,r,s),p?t.__k=[]:(c=t.props.children,y(e,Array.isArray(c)?c:[c],t,n,o,"foreignObject"!==t.type&&r,l,_,i,s)),s||("value"in m&&void 0!==(c=m.value)&&c!==e.value&&I(e,"value",c,d.value,!1),"checked"in m&&void 0!==(c=m.checked)&&c!==e.checked&&I(e,"checked",c,d.checked,!1))}return e}function S(t,n,o){try{"function"==typeof t?t(n):t.current=n}catch(t){e.__e(t,o)}}function A(t,n,o){var r,i,u;if(e.unmount&&e.unmount(t),(r=t.ref)&&(r.current&&r.current!==t.__e||S(r,null,n)),o||"function"==typeof t.type||(o=null!=(i=t.__e)),t.__e=t.__d=void 0,null!=(r=t.__c)){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(t){e.__e(t,n)}r.base=r.__P=null}if(r=t.__k)for(u=0;u<r.length;u++)r[u]&&A(r[u],n,o);null!=i&&s(i)}function E(e,t,n){return this.constructor(e,n)}e={__e:function(e,t){for(var n,o;t=t.__;)if((n=t.__c)&&!n.__)try{if(n.constructor&&null!=n.constructor.getDerivedStateFromError&&(o=!0,n.setState(n.constructor.getDerivedStateFromError(e))),null!=n.componentDidCatch&&(o=!0,n.componentDidCatch(e)),o)return m(n.__E=n)}catch(t){e=t}throw e}},p.prototype.setState=function(e,t){var n;n=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=_({},this.state),"function"==typeof e&&(e=e(_({},n),this.props)),e&&_(n,e),null!=e&&this.__v&&(t&&this.__h.push(t),m(this))},p.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),m(this))},p.prototype.render=f,t=[],n="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,v.__r=0,r=i;var P={};function H(e,t){for(var n in t)e[n]=t[n];return e}function N(e,t,n){var o,r=/(?:\?([^#]*))?(#.*)?$/,i=e.match(r),u={};if(i&&i[1])for(var l=i[1].split("&"),_=0;_<l.length;_++){var s=l[_].split("=");u[decodeURIComponent(s[0])]=decodeURIComponent(s.slice(1).join("="))}e=j(e.replace(r,"")),t=j(t||"");for(var c=Math.max(e.length,t.length),a=0;a<c;a++)if(t[a]&&":"===t[a].charAt(0)){var f=t[a].replace(/(^:|[+*?]+$)/g,""),p=(t[a].match(/[+*?]+$/)||P)[0]||"",h=~p.indexOf("+"),d=~p.indexOf("*"),m=e[a]||"";if(!m&&!d&&(p.indexOf("?")<0||h)){o=!1;break}if(u[f]=decodeURIComponent(m),h||d){u[f]=e.slice(a).map(decodeURIComponent).join("/");break}}else if(t[a]!==e[a]){o=!1;break}return(!0===n.default||!1!==o)&&u}function T(e,t){return e.rank<t.rank?1:e.rank>t.rank?-1:e.index-t.index}function M(e,t){return e.index=t,e.rank=function(e){return e.props.default?0:(t=e.props.path,j(t).map(D).join(""));var t}(e),e.props}function j(e){return e.replace(/(^\/+|\/+$)/g,"").split("/")}function D(e){return":"==e.charAt(0)?1+"*+?".indexOf(e.charAt(e.length-1))||4:5}var L=null,$=[],W=[],F={};function O(){var e;return""+((e=L&&L.location?L.location:L&&L.getCurrentLocation?L.getCurrentLocation():"undefined"!=typeof location?location:F).pathname||"")+(e.search||"")}function K(e,t){return void 0===t&&(t=!1),"string"!=typeof e&&e.url&&(t=e.replace,e=e.url),function(e){for(var t=$.length;t--;)if($[t].canRoute(e))return!0;return!1}(e)&&function(e,t){void 0===t&&(t="push"),L&&L[t]?L[t](e):"undefined"!=typeof history&&history[t+"State"]&&history[t+"State"](null,null,e)}(e,t?"replace":"push"),B(e)}function B(e){for(var t=!1,n=0;n<$.length;n++)!0===$[n].routeTo(e)&&(t=!0);for(var o=W.length;o--;)W[o](e);return t}function q(e){if(e&&e.getAttribute){var t=e.getAttribute("href"),n=e.getAttribute("target");if(t&&t.match(/^\//g)&&(!n||n.match(/^_?self$/i)))return K(t)}}function J(e){if(!(e.ctrlKey||e.metaKey||e.altKey||e.shiftKey||0!==e.button))return q(e.currentTarget||e.target||this),z(e)}function z(e){return e&&(e.stopImmediatePropagation&&e.stopImmediatePropagation(),e.stopPropagation&&e.stopPropagation(),e.preventDefault()),!1}function G(e){if(!(e.ctrlKey||e.metaKey||e.altKey||e.shiftKey||0!==e.button)){var t=e.target;do{if("A"===String(t.nodeName).toUpperCase()&&t.getAttribute("href")){if(t.hasAttribute("native"))return;if(q(t))return z(e)}}while(t=t.parentNode)}}var V=!1;var Q=function(e){function t(t){e.call(this,t),t.history&&(L=t.history),this.state={url:t.url||O()},V||("function"==typeof addEventListener&&(L||addEventListener("popstate",(function(){B(O())})),addEventListener("click",G)),V=!0)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.shouldComponentUpdate=function(e){return!0!==e.static||(e.url!==this.props.url||e.onChange!==this.props.onChange)},t.prototype.canRoute=function(e){var t=g(this.props.children);return this.getMatchingChildren(t,e,!1).length>0},t.prototype.routeTo=function(e){this.setState({url:e});var t=this.canRoute(e);return this.updating||this.forceUpdate(),t},t.prototype.componentWillMount=function(){$.push(this),this.updating=!0},t.prototype.componentDidMount=function(){var e=this;L&&(this.unlisten=L.listen((function(t){e.routeTo(""+(t.pathname||"")+(t.search||""))}))),this.updating=!1},t.prototype.componentWillUnmount=function(){"function"==typeof this.unlisten&&this.unlisten(),$.splice($.indexOf(this),1)},t.prototype.componentWillUpdate=function(){this.updating=!0},t.prototype.componentDidUpdate=function(){this.updating=!1},t.prototype.getMatchingChildren=function(e,t,n){return e.filter(M).sort(T).map((function(e){var o=N(t,e.props.path,e.props);if(o){if(!1!==n){var r={url:t,matches:o};return H(r,o),delete r.ref,delete r.key,function(e,t,n){var o,r,i,u=arguments,l=_({},e.props);for(i in t)"key"==i?o=t[i]:"ref"==i?r=t[i]:l[i]=t[i];if(arguments.length>3)for(n=[n],i=3;i<arguments.length;i++)n.push(u[i]);return null!=n&&(l.children=n),a(e.type,l,o||e.key,r||e.ref,null)}(e,r)}return e}})).filter(Boolean)},t.prototype.render=function(e,t){var n=e.children,o=e.onChange,r=t.url,i=this.getMatchingChildren(g(n),r,!0),u=i[0]||null,l=this.previousUrl;return r!==l&&(this.previousUrl=r,"function"==typeof o&&o({router:this,url:r,previous:l,active:i,current:u})),u},t}(p);Q.subscribers=W,Q.getCurrentUrl=O,Q.route=K,Q.Router=Q,Q.Route=function(e){return c(e.component,e)},Q.Link=function(e){return c("a",H({onClick:J},e))},Q.exec=N;var X,Y,Z,ee=0,te=[],ne=e.__r,oe=e.diffed,re=e.__c,ie=e.unmount;function ue(t,n){e.__h&&e.__h(Y,t,ee||n),ee=0;var o=Y.__H||(Y.__H={__:[],__h:[]});return t>=o.__.length&&o.__.push({}),o.__[t]}function le(e){return ee=1,function(e,t,n){var o=ue(X++,2);return o.t=e,o.__c||(o.__c=Y,o.__=[n?n(t):he(void 0,t),function(e){var t=o.t(o.__[0],e);o.__[0]!==t&&(o.__=[t,o.__[1]],o.__c.setState({}))}]),o.__}(he,e)}function _e(e){return ee=5,function(e,t){var n=ue(X++,7);return pe(n.__H,t)?(n.__H=t,n.__h=e,n.__=e()):n.__}((function(){return{current:e}}),[])}function se(){te.some((function(t){if(t.__P)try{t.__H.__h.forEach(ae),t.__H.__h.forEach(fe),t.__H.__h=[]}catch(n){return t.__H.__h=[],e.__e(n,t.__v),!0}})),te=[]}e.__r=function(e){ne&&ne(e),X=0;var t=(Y=e.__c).__H;t&&(t.__h.forEach(ae),t.__h.forEach(fe),t.__h=[])},e.diffed=function(t){oe&&oe(t);var n=t.__c;n&&n.__H&&n.__H.__h.length&&(1!==te.push(n)&&Z===e.requestAnimationFrame||((Z=e.requestAnimationFrame)||function(e){var t,n=function(){clearTimeout(o),ce&&cancelAnimationFrame(t),setTimeout(e)},o=setTimeout(n,100);ce&&(t=requestAnimationFrame(n))})(se))},e.__c=function(t,n){n.some((function(t){try{t.__h.forEach(ae),t.__h=t.__h.filter((function(e){return!e.__||fe(e)}))}catch(o){n.some((function(e){e.__h&&(e.__h=[])})),n=[],e.__e(o,t.__v)}})),re&&re(t,n)},e.unmount=function(t){ie&&ie(t);var n=t.__c;if(n&&n.__H)try{n.__H.__.forEach(ae)}catch(t){e.__e(t,n.__v)}};var ce="function"==typeof requestAnimationFrame;function ae(e){"function"==typeof e.u&&e.u()}function fe(e){e.u=e.__()}function pe(e,t){return!e||t.some((function(t,n){return t!==e[n]}))}function he(e,t){return"function"==typeof t?t(e):t}function de(){return c("div",null,c("p",null,"To join an existing room, ask the host for the link."))}const me={server:{host:location.origin,websockethost:location.origin.replace(/^http/,"ws"),websocketPort:8081}},ve={createWebSocket(e){const t=encodeURIComponent(`${e.username},${e.roomId}`);return new WebSocket(me.server.websockethost,t)},endpoint:e=>`${me.server.host}/${e}`,checkIfRoomExists(e){const t=this.endpoint("check_if_room_exists?roomId="+e);return fetch(t).then(e=>e.json())},checkIfUsernameExists(e,t){const n=this.endpoint(`check_if_username_exists?roomId=${t}&username=${e.trim()}`);return fetch(n).then(e=>e.json())},createRoom(e){const t=this.endpoint("create_room?username="+e);return fetch(t).then(e=>e.json())},joinRoom(e,t){const n=this.endpoint(`join_room?roomId=${t}&username=${e.trim()}`);return fetch(n).then(e=>e.json())}};function ye(e){e.serverInfo;const t=e.setUsername,[n,o]=(e.setRoomId,le(""));return c("div",null,c("p",null,"Create a Room:"),c("p",null,"Please enter your username:"),c("input",{type:"text",value:n,onInput:function(e){const t=e.target.value;o(t)}}),c("button",{onClick:()=>function(e){ve.createRoom(e).then(e=>{t(e.username),K("/"+e.roomId)})}(n),disabled:n.trim().length<1},"Create Room"))}function ge(e){const t=e.setUsername,n=e.roomId,o=e.joinRoom,[r,i]=le(""),[u,l]=le("");return c("div",null,c("p",null,"Please enter your username:"),c("input",{type:"text",value:r,onInput:e=>i(e.target.value)}),c("button",{onClick:()=>function(e){l(""),ve.checkIfUsernameExists(e,n).then(n=>{if(n.alreadyExists)throw Error(`User ${e} already exists in this room.`);{const n=e.trim();t(n),o(n)}}).catch(e=>{l(e.message)})}(r)},"Join Room"),u?c("p",null,u):null)}function ke(t){const n=t.roomId,o=t.state,r=t.setUsername,i=t.setRoomId,u=_e(null),[l,_]=le(""),[s,a]=le([]),[f,p]=le(null),[h,d]=le([]),[m,v]=le({});function y(e){if(e in m)return m[e];{const t=function(){const e="0123456789ABCDEF";let t="#";for(let n=0;n<6;n++)t+=e[Math.floor(16*Math.random())];return t}();return v(n=>({...n,[e]:t})),t}}function g(e){ve.joinRoom(e,n).then(t=>{t.roomId?p(n=>((n=ve.createWebSocket({username:e,roomId:t.roomId})).onmessage=function(e){let n=JSON.parse(e.data);if("roomList"===n.type&&n.roomId===t.roomId){const e=n.message;d([...e])}else n&&n.roomId===t.roomId&&n.message.trim().length>0&&(a(e=>[...e,n]),_(""));u.current&&setTimeout((function(){u.current.scrollTop=u.current.scrollHeight}))},n)):K("/")}).catch(e=>{console.error("could not join room",e)})}function k(){if(l.trim()){const e=JSON.stringify({username:o.username,roomId:o.roomId,message:l});f.send(e)}}return function(t,n){var o=ue(X++,3);!e.__s&&pe(o.__H,n)&&(o.__=t,o.__H=n,Y.__H.__h.push(o))}(()=>{ve.checkIfRoomExists(n).then(e=>{e.exists?(i(n),o.username&&g(o.username)):K("/")}).catch(e=>{console.error(e),K("/")})},[]),o.username&&o.roomId&&f?c("div",null,c("div",{ref:u,id:"messages"},s.map(e=>c("p",{style:"margin-bottom: 0.5rem;"},"serverMessage"===e.type?c("em",null,e.message):c("span",null,c("span",{style:{color:y(e.username),fontWeight:600}},e.username,":")," ",e.message)))),c("input",{type:"text",maxlength:"300",id:"message-input",value:l,onInput:e=>_(e.target.value),onKeyPress:e=>13==e.keyCode?k():null}),c("button",{onClick:k},"send"),c("div",null,c("h6",null,"Users connected:"),c("ul",null,h.map(e=>c("li",null,e))))):!o.username&&o.roomId?c("div",null,c(ge,{setUsername:r,roomId:n,joinRoom:g})):void 0}!function(t,n,o){var l,_,s;e.__&&e.__(t,n),_=(l=o===r)?null:o&&o.__k||n.__k,t=c(f,null,[t]),s=[],U(n,(l?n:o||n).__k=t,_||i,i,void 0!==n.ownerSVGElement,o&&!l?[o]:_?null:n.childNodes.length?u.slice.call(n.childNodes):null,s,o||i,l),w(s,t)}(c((function(){const[e,t]=le({username:"",roomId:null});function n(e){t(t=>({...t,username:e}))}function o(e){t(t=>({...t,roomId:e}))}return c("div",{class:"max-width-3 mx-auto"},c("h1",null,"Chat Room App"),c("p",null,c("a",{href:"/create_room"},"Create New Room")),c(Q,null,c(de,{path:"/"}),c(ye,{path:"/create_room",setUsername:n,setRoomId:o}),c(ke,{path:"/:roomId",state:e,setUsername:n,setRoomId:o})))}),null),document.getElementById("app"))}();
